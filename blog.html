<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="css/style.css" />
    <title>Personal web | About</title>
    <title>blog</title>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="logo">My brand</div>
        <div class="tabs">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html"> Contact</a></li>
            <li class="active">Blog</li>
            <a href="login.html"
              ><li>
                <img src="images/icons/icons8-login-100.png" /></li
            ></a>
          </ul>
        </div>
        <div class="custom-shape-divider-bottom-1640285506">
          <svg
            data-name="Layer 1"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 1200 120"
            preserveAspectRatio="none"
          >
            <path
              d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"
              class="shape-fill"
            ></path>
          </svg>
        </div>
      </div>
      <div class="main-contents" id="blogPostContainer">
        <div class="leftz">
          <img src="images/book.jpeg" alt="left image" />
          <span class="title">BOOK</span>
          <p>
            Pellentesque varius molestie sem scelerisque aliquam. Sed ultricies
            dolor non arcu viverra, in vestibulum nunc finibus. Etiam lorem
            nisi, tempor et....
          </p>
          <button><a href="blog-details.html">read more</a></button>
        </div>

        <div class="rem">
          <i class="fa fa-caret-right" aria-hidden="true"></i>
        </div>
      </div>
      <div class="big-col1">
        <div class="footer"><p>Jean Claude Iradukunda @2021</p></div>
      </div>
    </div>

    <script>
      window.onload = () => {
        //get blogs
        const blogPostContainer = document.getElementById('blogPostContainer');
        if (localStorage.getItem('blogs')) {
          const blogs = JSON.parse(localStorage.getItem('blogs'));
          blogPostContainer.innerHTML = '';
          for (let i = 0; i < blogs.length; i++) {
            const post = `
              <div class="leftz">
                <img src="images/${blogs[i].image}" alt="left image" />
                <span class="title">${blogs[i].title}</span>
                <p>${blogs[i].description}</p>
                <a href="blog-details.html#blog${i}"><button>read more</button></a>
              </div>
            `;
            blogPostContainer.innerHTML = blogPostContainer.innerHTML + post;
          }
        } else {
          blogPostContainer.innerHTML =
            "<p style='color:white'>No blog posts found</p>";
        }
      };

      // //create a sample post
      const createSamplePost = () => {
        const blogs = [
          {
            title: 'book1',
            image: 'book.jpeg',
            description: 'this is a testing blog1',
            comments: [{ username: 'testing username', comment: 'good book' }],
          },
          {
            title: 'book2',
            image: 'book.jpeg',
            description: 'this is a testing blog1',
            comments: [],
          },
        ];
        localStorage.setItem('blogs', JSON.stringify(blogs));
      };
      createSamplePost();
    </script>
  </body>
</html>
